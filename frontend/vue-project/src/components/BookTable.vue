<template>
  <div v-if="books.length" class="table-wrapper">
    <table class="table">
      <thead>
        <tr>
          <th>ID</th>
          <th>–û–±–ª–æ–∂–∫–∞</th>
          <th>–ù–∞–∑–≤–∞–Ω–∏–µ</th>
          <th>–ê–≤—Ç–æ—Ä</th>
          <th>–ì–æ–¥</th>
          <th>–ñ–∞–Ω—Ä</th>
          <th>ISBN</th>
          <th>–°—Ç—Ä–∞–Ω–∏—Ü—ã</th>
          <th>–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞</th>
          <th>–°—Ç–µ–ª–ª–∞–∂</th>
          <th>–ü–æ–ª–∫–∞</th>
          <th>–î–æ—Å—Ç—É–ø–Ω–æ / –í—Å–µ–≥–æ</th>
          <th class="actions-col">–î–µ–π—Å—Ç–≤–∏—è</th>
        </tr>
      </thead>
      <tbody>
        <tr v-for="book in books" :key="book.id">
          <td>{{ book.id }}</td>
          <td><img v-if="book.cover" :src="book.cover" class="cover" /></td>
          <td>{{ book.title }}</td>
          <td>{{ book.author }}</td>
          <td>{{ book.year }}</td>
          <td>{{ book.genre }}</td>
          <td>{{ book.isbn }}</td>
          <td>{{ book.pages }}</td>
          <td>{{ book.location_root_name || '-' }}</td>
          <td>{{ book.rack_number || '-' }}</td>
          <td>{{ book.section_number || '-' }}</td>
          <td>{{ book.available_copies }} / {{ book.total_copies }}</td>
          <td>
            <button @click="$emit('editBook', book)" class="btn edit">‚úèÔ∏è</button>
            <button @click="$emit('deleteBook', book.id)" class="btn delete">üóëÔ∏è</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  <div v-else class="empty"><p>–ö–Ω–∏–≥ –ø–æ–∫–∞ –Ω–µ—Ç</p></div>
</template>

<script setup>
defineProps({ books: Array })
const emit = defineEmits(['editBook', 'deleteBook'])
</script>
